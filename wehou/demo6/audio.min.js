window.AudioContext=window.AudioContext||window.webkitAudioContext;function BufferLoader(b,a,c){this.context=b;this.urlList=a;this.onload=c;this.bufferList=new Array();this.loadCount=0}BufferLoader.prototype.loadBuffer=function(c,b){var d=new XMLHttpRequest();d.open("GET",c,true);d.responseType="arraybuffer";var a=this;d.onload=function(){a.context.decodeAudioData(d.response,function(e){if(!e){alert("error decoding file data: "+c);return}a.bufferList[b]=e;if(++a.loadCount==a.urlList.length){a.onload(a.bufferList)}},function(e){console.error("decodeAudioData error",e)})};d.onerror=function(){alert("BufferLoader: XHR error")};d.send()};BufferLoader.prototype.load=function(){for(var a=0;a<this.urlList.length;++a){this.loadBuffer(this.urlList[a],a)}};